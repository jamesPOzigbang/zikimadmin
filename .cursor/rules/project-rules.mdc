---
alwaysApply: true
---

# 지킴진단 Admin 프로젝트 Rules

이 문서는 지킴진단 관리자 시스템 개발 시 준수해야 할 규칙과 가이드라인을 정의합니다.

## 📋 프로젝트 개요

- **프로젝트명**: 지킴진단 Admin
- **목적**: 부동산 진단 리포트 관리 및 컨텐츠 관리 시스템
- **기술 스택**: Next.js 14, shadcn/ui, Tailwind CSS, TypeScript

---

## 🎯 문서화 규칙

### PRD 문서 관리

1. **문서 위치**: 모든 PRD 문서는 `docs/` 폴더에 저장
2. **문서 형식**: 마크다운(.md) 형식 사용
3. **필수 문서**:
   - `PRD-README.md`: 전체 프로젝트 개요
   - 각 페이지별 상세 PRD (예: `리포트-발급-이력.md`, `컨텐츠-관리.md`)

4. **PRD 문서 구조**:
   ```markdown
   # [페이지명] PRD
   
   ## 📄 페이지 정보
   - 파일명, 페이지명, URL 경로
   
   ## 1. 개요
   - 페이지 목적
   - 주요 기능
   - 사용자 시나리오
   
   ## 2. 정책
   - 접근 권한
   - 데이터 표시 정책
   - 기타 정책
   
   ## 3. 기능
   - 상세 기능 명세
   
   ## 4. 유저스토리
   - As a / I want to / So that 형식
   ```

### 문서 업데이트 규칙

- PRD 문서는 기능 추가/변경 시 반드시 함께 업데이트
- 버전 관리 및 변경 이력 기록 필수
- 한글 문서명 허용 (예: `리포트-발급-이력.md`)

---

## 🏗️ 코드 구조 규칙

### 파일 구조

```
zikimadmin/
├── app/                      # Next.js App Router
│   ├── (dashboard)/         # 대시보드 그룹
│   └── globals.css          # 전역 스타일
├── components/              # React 컴포넌트
│   ├── layout/             # 레이아웃 컴포넌트
│   └── ui/                 # shadcn/ui 컴포넌트
├── lib/                    # 유틸리티 및 데이터
├── docs/                   # PRD 문서
├── public/                 # 정적 파일
└── *.html                  # Standalone HTML 페이지
```

### Standalone HTML 페이지 규칙

1. **명명 규칙**: `{기능명}-standalone.html` (예: `content-management-standalone.html`)
2. **자체 포함**: 모든 스타일과 스크립트를 HTML 파일 내부에 포함
3. **외부 의존성**: 최소화하되, 필요시 CDN 사용
4. **공통 스타일**: `style.css` 파일을 별도로 관리하여 재사용 가능

---

## 🎨 UI/UX 규칙

### 디자인 시스템

1. **색상 변수**:
   ```css
   --primary-color: #009720;      /* 메인 그린 */
   --primary-light: #009720;      /* 밝은 그린 */
   --accent-color: #009720;       /* 강조 색상 */
   --bg-color: #F8FAFC;          /* 배경색 */
   --card-bg: #FFFFFF;           /* 카드 배경 */
   --text-primary: #1E293B;      /* 기본 텍스트 */
   --text-secondary: #64748B;    /* 보조 텍스트 */
   --border-color: #E2E8F0;      /* 테두리 */
   ```

2. **타이포그래피**:
   - 기본 폰트: `'Inter', 'Noto Sans KR', sans-serif`
   - 기본 크기: 14px
   - 행간: 1.5

3. **간격 시스템**:
   ```css
   --spacing-xs: 4px;
   --spacing-sm: 8px;
   --spacing-md: 16px;
   --spacing-lg: 24px;
   --spacing-xl: 32px;
   ```

### 상태 배지

- **양호/완료**: 초록색 (`#10B981`)
- **확인필요/진행중**: 주황색/노란색 (`#F59E0B`)
- **기타/취소**: 빨간색 (`#EF4444`)

### 컴포넌트 스타일 가이드

1. **카드**: 
   - 둥근 모서리: `border-radius: 12px`
   - 그림자: `box-shadow: var(--shadow-sm)`
   - 테두리: `1px solid var(--border-color)`

2. **버튼**:
   - Primary: 그린 배경 (`var(--primary-color)`)
   - Secondary: 흰색 배경 + 테두리
   - 높이: 최소 40px

3. **입력 필드**:
   - 높이: 40px
   - 둥근 모서리: `border-radius: 8px`
   - 포커스 시: `border-color: var(--accent-color)`

---

## 📊 데이터 관리 규칙

### 필터링 시스템

1. **다차원 필터링**: 여러 필터 조건을 동시 적용 가능하도록 구현
2. **리얼타임 필터링**: 체크박스/선택 시 즉시 결과 반영
3. **전체 선택**: 각 필터 그룹에 '전체' 옵션 제공
4. **필터 상태 유지**: 페이지 새로고침 시에도 필터 상태 유지 (선택적)

### 페이지네이션

- 기본 표시 개수: 15개 (조정 가능)
- 페이지 정보 표시 필수: "Total X items"
- 이전/다음 버튼 및 페이지 번호 제공

### 검색 기능

- 검색 범위 명시 (예: 리포트 번호, 고객 이메일)
- 부분 검색 지원
- 검색어와 필터 동시 적용 가능

---

## ✅ 컨텐츠 관리 규칙

### 분류 체계

1. **필터 분류** (조회 조건):
   - 거래 유형: 매매, 전세, 월세
   - 건물 유형: 일반건물, 집합건물
   - 카테고리: 23개 체크리스트 항목
   - 상태: 양호, 확인필요, 기타

2. **상태별 카드 분리**:
   - 동일 항목이라도 상태가 다르면 별도 카드로 관리
   - 각 카드는 [항목-거래-건물-상태]의 고유 조합

3. **컨텐츠 타입**:
   - 안내: 결과에 대한 사용자 가이드
   - 설명: 항목에 대한 정의 및 상세 설명
   - 특약: 계약서 특약 사항 (단, '기타' 상태는 제외)

### 특수 항목 처리

1. **토지별도등기**:
   - 추가 드롭다운 제공: 구분지상권, 근저당권, 구분지상권+근저당권, 기타
   - 토지 구분 필터는 해당 카테고리 선택 시에만 활성화

2. **기타 상태**:
   - '기타' 상태 카드는 '특약' 입력란 제공하지 않음

### 동적 필드 관리

- 각 컨텐츠 타입별로 여러 필드 추가 가능
- 최소 1개 필드는 유지
- 각 필드는 제목과 내용으로 구성

---

## 🔧 개발 워크플로우

### 기능 추가 시 체크리스트

1. [ ] PRD 문서 작성 또는 업데이트
2. [ ] UI 컴포넌트 구현
3. [ ] 필터링/검색 로직 구현
4. [ ] 데이터 저장/수정 로직 구현
5. [ ] 반응형 디자인 확인
6. [ ] 접근성 검토
7. [ ] 브라우저 호환성 테스트

### 코드 작성 규칙

1. **명명 규칙**:
   - 컴포넌트: PascalCase
   - 함수/변수: camelCase
   - CSS 클래스: kebab-case
   - 상수: UPPER_SNAKE_CASE

2. **주석**:
   - 복잡한 로직에 설명 주석 추가
   - 한글 주석 허용
   - TODO/FIXME 태그 활용

3. **타입스크립트**:
   - any 사용 최소화
   - 인터페이스 정의 권장
   - 타입 안정성 우선

---

## 📦 의존성 관리

### 패키지 추가 규칙

1. **Next.js 및 React**: 항상 최신 안정 버전 사용
2. **shadcn/ui 컴포넌트**:
   ```bash
   npx shadcn-ui@latest add [component-name]
   ```
3. **외부 라이브러리**: 
   - 필요성 검토 후 추가
   - 번들 크기 고려
   - 유지보수 상태 확인

### CDN 사용

- Tailwind CSS CDN 허용 (Standalone HTML 페이지)
- 폰트: Google Fonts 사용
- 아이콘: Lucide React 또는 이모지

---

## 🔒 보안 규칙

### 접근 제어

- 모든 관리자 페이지는 인증 필요
- 리포트 ID 기반 접근 시 권한 검증
- XSS 방지: 사용자 입력 sanitize

### 데이터 처리

- 민감 정보(주소, 금액) 처리 시 보안 고려
- PDF 다운로드 시 권한 확인
- API 호출 시 에러 처리

---

## 🌐 브라우저 지원

### 지원 브라우저

- Chrome (최신 버전)
- Safari (최신 버전)
- Firefox (최신 버전)
- Edge (최신 버전)

### 반응형 디자인

- 데스크탑 우선 (관리자 시스템)
- 태블릿 지원
- 모바일: 선택적 지원

---

## 📝 커밋 메시지 규칙

### 커밋 메시지 형식

```
[타입] 간단한 설명

상세 설명 (선택사항)

관련 이슈: #이슈번호 (선택사항)
```

### 타입

- `feat`: 새로운 기능 추가
- `fix`: 버그 수정
- `docs`: 문서 수정
- `style`: 코드 포맷팅, 세미콜론 등
- `refactor`: 코드 리팩토링
- `test`: 테스트 코드
- `chore`: 빌드 업무, 패키지 관리

### 예시

```
feat: 환불 관리 페이지 추가

- 환불 목록 조회 기능
- 환불 처리 모달
- 필터링 및 검색 기능 포함

관련 이슈: #123
```

---

## 🚀 배포 규칙

### 빌드 전 체크리스트

1. [ ] ESLint 오류 없음
2. [ ] TypeScript 타입 오류 없음
3. [ ] 빌드 성공 확인
4. [ ] 주요 기능 테스트
5. [ ] PRD 문서 업데이트 완료

### 환경 설정

- 로고 이미지: `public/logo.png`
- 환경 변수: `.env.local` 사용

---

## 📖 참고 자료

- [Next.js 문서](https://nextjs.org/docs)
- [shadcn/ui 문서](https://ui.shadcn.com)
- [Tailwind CSS 문서](https://tailwindcss.com/docs)
- [프로젝트 PRD 문서](./docs/PRD-README.md)

---

## 🔄 업데이트 이력

| 날짜 | 버전 | 변경 내용 | 작성자 |
|------|------|----------|--------|
| 2026-01-23 | 1.0.0 | 초기 Rules 문서 작성 | AI Agent |
